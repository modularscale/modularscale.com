<!doctype html>
<html manifest="ms.appcache">
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Application stuff -->
    <link rel="shortcut icon" href="/favicon.png">
    <link rel="icon" sizes="196x196" href="/icon.png">
    <link rel="apple-touch-icon-precomposed" href="/icon.png">

    <!-- mobile webapp stuff -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#607890">

    <!-- Windows icons -->
    <meta name="msapplication-TileColor" content="#607890"/>
    <meta name="msapplication-square70x70logo" content="/tiny.png"/>
    <meta name="msapplication-square150x150logo" content="/square.png"/>

    <title>Modularscale</title>

    <!-- Roll stylesheet into page for fast load -->
    <% css_path = sitemap.resources.select { |p| p.source_file.match(/style[.]scss$/) }.first %>
    <style><%= css_path.render %></style>
  </head>

  <body class="panel-calc mode-web">
    <%= partial "partials/svg" %>
    <%= partial "partials/form" %>
    <%= partial "partials/output" %>
    <article class="about panel" data-panel="about" id="about">
      <%= yield %>
    </article>
    <%= partial "partials/pager" %>

    <!-- Roll javascript into page for fast load -->
    <% app_js = sprockets.find_asset('script.js.erb').to_s %>
    <script><%= defined?(Uglifier) ? Uglifier.compile(app_js) : app_js %></script>

  </body>
</html>
